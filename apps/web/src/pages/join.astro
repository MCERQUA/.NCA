---
export const prerender = true;

import BaseLayout from '../layouts/BaseLayout.astro';
import { Card, CardHeader, CardTitle, CardDescription, CardContent } from '../components/ui/Card';
---

<BaseLayout
  title="Join NCA - Contractor Membership"
  description="Join the National Contractor Association and grow your business. Get verified, increase visibility, and connect with customers."
>
  <main class="min-h-screen bg-gray-50 py-12 px-4">
    <div class="container mx-auto max-w-4xl">
      <div class="text-center mb-12">
        <h1 class="text-4xl md:text-5xl font-heading font-bold text-charcoal mb-4">
          Join the NCA Network
        </h1>
        <p class="text-xl text-slate max-w-2xl mx-auto">
          Connect with customers actively searching for contractors. Get verified and stand out from the competition.
        </p>
      </div>

      <!-- Membership Plans -->
      <div class="grid md:grid-cols-3 gap-6 mb-12">
        <Card className="border-2 border-gray-200">
          <CardHeader>
            <CardTitle className="text-2xl">Free</CardTitle>
            <CardDescription>Get started with a basic listing</CardDescription>
          </CardHeader>
          <CardContent>
            <div class="text-3xl font-bold mb-4">$0<span class="text-sm font-normal text-slate">/year</span></div>
            <ul class="space-y-3 mb-6">
              <li class="flex items-start">
                <span class="text-green-500 mr-2">✓</span>
                <span class="text-sm">Basic company profile</span>
              </li>
              <li class="flex items-start">
                <span class="text-green-500 mr-2">✓</span>
                <span class="text-sm">Contact information</span>
              </li>
              <li class="flex items-start">
                <span class="text-green-500 mr-2">✓</span>
                <span class="text-sm">Service categories</span>
              </li>
            </ul>
          </CardContent>
        </Card>

        <Card className="border-2 border-primary relative overflow-visible">
          <div class="absolute -top-4 left-1/2 transform -translate-x-1/2 z-10">
            <span class="bg-primary text-white px-4 py-1 rounded-full text-sm font-semibold">Popular</span>
          </div>
          <!-- $50,000 Guarantee Badge -->
          <div class="absolute -top-8 -right-8 sm:-top-10 sm:-right-10 z-20">
            <img
              src="/national-contractors-50000-guarantee.webp"
              alt="$50,000 Guarantee Badge"
              class="w-16 h-16 sm:w-20 sm:h-20 md:w-24 md:h-24 drop-shadow-2xl"
              loading="lazy"
            />
          </div>
          <CardHeader>
            <CardTitle className="text-2xl">Pro</CardTitle>
            <CardDescription>Enhanced features for growth</CardDescription>
          </CardHeader>
          <CardContent>
            <div class="text-3xl font-bold mb-4">$549<span class="text-sm font-normal text-slate">/year</span></div>
            <ul class="space-y-3 mb-6">
              <li class="flex items-start">
                <span class="text-green-500 mr-2">✓</span>
                <span class="text-sm">Everything in Free</span>
              </li>
              <li class="flex items-start">
                <span class="text-green-500 mr-2">✓</span>
                <span class="text-sm">Photo gallery & portfolio</span>
              </li>
              <li class="flex items-start">
                <span class="text-green-500 mr-2">✓</span>
                <span class="text-sm">Customer reviews</span>
              </li>
              <li class="flex items-start">
                <span class="text-green-500 mr-2">✓</span>
                <span class="text-sm">Lead analytics</span>
              </li>
            </ul>
          </CardContent>
        </Card>

        <Card className="border-2 border-gray-200 relative overflow-visible">
          <!-- $100,000 Guarantee Badge -->
          <div class="absolute -top-8 -right-8 sm:-top-10 sm:-right-10 z-20">
            <img
              src="/national-contractors-100000-guarantee.webp"
              alt="$100,000 Guarantee Badge"
              class="w-16 h-16 sm:w-20 sm:h-20 md:w-24 md:h-24 drop-shadow-2xl"
              loading="lazy"
            />
          </div>
          <CardHeader>
            <CardTitle className="text-2xl">Platinum Pro</CardTitle>
            <CardDescription>Premium membership with exclusive benefits</CardDescription>
          </CardHeader>
          <CardContent>
            <div class="text-3xl font-bold mb-4">$1,549<span class="text-sm font-normal text-slate">/year</span></div>
            <ul class="space-y-3 mb-6">
              <li class="flex items-start">
                <span class="text-green-500 mr-2">✓</span>
                <span class="text-sm">Everything in Pro</span>
              </li>
              <li class="flex items-start">
                <span class="text-green-500 mr-2">✓</span>
                <span class="text-sm">Platinum Pro badge</span>
              </li>
              <li class="flex items-start">
                <span class="text-green-500 mr-2">✓</span>
                <span class="text-sm">Priority placement</span>
              </li>
              <li class="flex items-start">
                <span class="text-green-500 mr-2">✓</span>
                <span class="text-sm">Premium support</span>
              </li>
            </ul>
          </CardContent>
        </Card>
      </div>

      <!-- CTA to Signup -->
      <Card className="bg-gradient-to-br from-primary-50 to-white border-2 border-primary">
        <CardHeader className="text-center">
          <CardTitle className="text-3xl">Ready to Get Started?</CardTitle>
          <CardDescription className="text-lg">Create your complete contractor profile now - it only takes 5 minutes</CardDescription>
        </CardHeader>
        <CardContent className="p-8">
          <div class="flex flex-col gap-4">
            <a href="/signup" class="w-full bg-primary text-white font-semibold py-4 px-6 rounded-lg hover:bg-primary-600 transition-colors text-center text-lg">
              Create Your Profile Now
            </a>
            <p class="text-center text-sm text-gray-600">
              ✓ Instant activation  •  ✓ Appear on map immediately  •  ✓ Free to start
            </p>
          </div>
        </CardContent>
      </Card>

      <!-- Legacy Form (Hidden - keeping for backup) -->
      <Card className="hidden">
        <CardHeader>
          <CardTitle>Get Started Today</CardTitle>
          <CardDescription>Fill out the form below and we'll get you set up</CardDescription>
        </CardHeader>
        <CardContent className="p-8">
          <form
            name="contractor-signup"
            method="POST"
            data-netlify="true"
            action="/signup-thank-you"
            netlify-honeypot="bot-field"
          >
            <input type="hidden" name="form-name" value="contractor-signup" />

            <!-- Honeypot -->
            <p class="hidden">
              <label>
                Don't fill this out: <input name="bot-field" />
              </label>
            </p>

            <div class="grid md:grid-cols-2 gap-6">
              <div>
                <label for="company-name" class="block text-sm font-medium text-gray-700 mb-2">
                  Company Name <span class="text-red-500">*</span>
                </label>
                <input
                  type="text"
                  id="company-name"
                  name="company-name"
                  required
                  class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"
                />
              </div>

              <div>
                <label for="contact-name" class="block text-sm font-medium text-gray-700 mb-2">
                  Your Name <span class="text-red-500">*</span>
                </label>
                <input
                  type="text"
                  id="contact-name"
                  name="contact-name"
                  required
                  class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"
                />
              </div>

              <div>
                <label for="email" class="block text-sm font-medium text-gray-700 mb-2">
                  Email <span class="text-red-500">*</span>
                </label>
                <input
                  type="email"
                  id="email"
                  name="email"
                  required
                  class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"
                />
              </div>

              <div>
                <label for="phone" class="block text-sm font-medium text-gray-700 mb-2">
                  Phone <span class="text-red-500">*</span>
                </label>
                <input
                  type="tel"
                  id="phone"
                  name="phone"
                  required
                  class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"
                />
              </div>

              <div>
                <label for="city" class="block text-sm font-medium text-gray-700 mb-2">
                  City <span class="text-red-500">*</span>
                </label>
                <input
                  type="text"
                  id="city"
                  name="city"
                  required
                  class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"
                />
              </div>

              <div>
                <label for="state" class="block text-sm font-medium text-gray-700 mb-2">
                  State <span class="text-red-500">*</span>
                </label>
                <input
                  type="text"
                  id="state"
                  name="state"
                  required
                  class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"
                />
              </div>

              <div class="md:col-span-2">
                <label for="services" class="block text-sm font-medium text-gray-700 mb-2">
                  Primary Services <span class="text-red-500">*</span>
                </label>
                <select
                  id="services"
                  name="services"
                  required
                  class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"
                >
                  <option value="">Select a service...</option>
                  <option value="roofing">Roofing</option>
                  <option value="electrical">Electrical</option>
                  <option value="plumbing">Plumbing</option>
                  <option value="hvac">HVAC</option>
                  <option value="painting">Painting</option>
                  <option value="remodeling">Remodeling</option>
                  <option value="landscaping">Landscaping</option>
                  <option value="flooring">Flooring</option>
                  <option value="other">Other</option>
                </select>
              </div>

              <div class="md:col-span-2">
                <label for="plan" class="block text-sm font-medium text-gray-700 mb-2">
                  Choose Your Plan <span class="text-red-500">*</span>
                </label>
                <select
                  id="plan"
                  name="plan"
                  required
                  class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"
                >
                  <option value="">Select a plan...</option>
                  <option value="free">Free - $0/year</option>
                  <option value="pro">Pro - $549/year</option>
                  <option value="verified">Platinum Pro - $1,549/year</option>
                </select>
              </div>

              <div class="md:col-span-2">
                <label for="comments" class="block text-sm font-medium text-gray-700 mb-2">
                  Additional Comments
                </label>
                <textarea
                  id="comments"
                  name="comments"
                  rows="4"
                  class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary resize-none"
                  placeholder="Tell us about your business..."
                ></textarea>
              </div>

              <div class="md:col-span-2">
                <button
                  type="submit"
                  class="w-full bg-primary text-white font-semibold py-3 px-6 rounded-lg hover:bg-primary-600 transition-colors focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2"
                >
                  Submit Application
                </button>
              </div>
            </div>
          </form>
        </CardContent>
      </Card>
    </div>
  </main>
</BaseLayout>
